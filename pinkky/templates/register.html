{% extends 'base.html' %}
{% load static %}
{% block main %}
<div class="bg-gray-100 min-h-screen flex justify-center items-center p-4" style="background-image: url('{% static 'images/backregis.png' %}'); background-size: cover; background-position: center;">
    <div class="w-full max-w-md">
        <div class="bg-white shadow-md rounded-lg overflow-hidden">
            <div class="bg-blue-500 p-4">
                <h2 class="text-2xl font-bold text-center text-white">ลงทะเบียน</h2>
            </div>
            <div class="p-6">
                <!-- แสดงข้อความหลังจากส่งฟอร์ม -->
                {% if request.method == 'POST' and messages %}
                    <div class="mb-4">
                        {% for message in messages %}
                            <div class="text-sm px-4 py-2 rounded 
                            {% if message.tags == 'error' %} bg-red-100 text-red-700 border border-red-400 {% endif %}
                            {% if message.tags == 'success' %} bg-green-100 text-green-700 border border-green-400 {% endif %}">
                                {{ message }}
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}

                <form method="POST">
                    {% csrf_token %}
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="username">
                            ชื่อผู้ใช้
                        </label>
                        <input class="shadow-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500" id="username" type="text" name="username" placeholder="กรอกชื่อผู้ใช้">
                    </div>
                    <div class="mb-4">
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="email">
                            อีเมล
                        </label>
                        <input class="shadow-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500" id="email" type="email" name="email" placeholder="กรอกอีเมล">
                    </div>

                    <!-- ชื่อจริงและนามสกุลในบรรทัดเดียวกัน -->
                    <div class="mb-4 flex space-x-4">
                        <div class="w-1/2">
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="first_name">
                                ชื่อจริง
                            </label>
                            <input class="shadow-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500" id="first_name" type="text" name="first_name" placeholder="กรอกชื่อจริง">
                        </div>
                        <div class="w-1/2">
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="last_name">
                                นามสกุล
                            </label>
                            <input class="shadow-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500" id="last_name" type="text" name="last_name" placeholder="กรอกนามสกุล">
                        </div>
                    </div>

                    <!-- รหัสผ่านและยืนยันรหัสผ่านในบรรทัดเดียวกัน -->
                    <div class="mb-6 flex space-x-4">
                        <div class="w-1/2">
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="password">
                                รหัสผ่าน
                            </label>
                            <input class="shadow-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500" id="password" type="password" name="password" placeholder="กรอกรหัสผ่าน">
                        </div>
                        <div class="w-1/2">
                            <label class="block text-gray-700 text-sm font-bold mb-2" for="confirm_password">
                                ยืนยันรหัสผ่าน
                            </label>
                            <input class="shadow-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500" id="confirm_password" type="password" name="confirm_password" placeholder="ยืนยันรหัสผ่าน">
                        </div>
                    </div>

                    <div class="flex items-center justify-between">
                        <button class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit">
                            ลงทะเบียน
                        </button>

                        <!-- ปุ่ม "มีบัญชีอยู่แล้ว?" เพิ่มลิงก์ไปหน้า Login -->
                        <a href="{% url 'login' %}" class="inline-block align-baseline font-bold text-sm text-blue-500 hover:text-blue-800">
                            มีบัญชีอยู่แล้ว?
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap');
    body {
        font-family: 'Sarabun', sans-serif;
    }
</style>
{% endblock %}
